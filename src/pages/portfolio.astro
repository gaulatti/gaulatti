---
import Layout from '../layouts/Layout.astro';
import BauhausBackground from '../components/BauhausBackground.astro';
import Github from '../assets/icons/github.svg';

const title = 'Portfolio â€” Gaulatti';
const description = 'Selected works across software engineering, music composition, and broadcasting by Javier Godoy (Gaulatti).';

interface Project {
  title: string;
  description: string;
  type: 'autostrada' | 'wiphala' | 'pompeii' | 'monitor';
  tags: string[];
  link: string;
  imageUrl?: string;
  repos: {
    infra: string;
    service: string;
    frontend: string;
  };
}

const personalProjects: Project[] = [
  {
    title: 'Autostrada',
    description:
      'An all-in-one frontend observability platform unifying Lighthouse audits, real user monitoring (RUM) data, and PageSpeed Insights to track performance, accessibility, SEO, and aesthetics in production. Built to replace fragmented tools with a fast, modular solution that can run standalone or as a Wiphala plugin for continuous performance governance.',
    type: 'autostrada',
    tags: ['TypeScript', 'React', 'NestJS', 'AWS', 'Lighthouse'],
    link: 'https://autostrada.gaulatti.com',
    imageUrl: '/hero/autostrada.avif',
    repos: {
      infra: 'https://github.com/gaulatti/autostrada',
      service: 'https://github.com/gaulatti/autostrada-service',
      frontend: 'https://github.com/gaulatti/autostrada-frontend',
    },
  },
  {
    title: 'Wiphala',
    description:
      'A self-hosted, plugin-driven workflow orchestrator for automating complex pipelines across multiple runtimes (Java, Node.js, Go, etc). It coordinates tasks via gRPC-based worker services and serves as the backbone of the ecosystem, integrating tools like Autostrada to streamline end-to-end processes.',
    type: 'wiphala',
    tags: ['TypeScript', 'NestJS', 'gRPC', 'AWS', 'Docker'],
    link: 'https://wiphala.gaulatti.com',
    imageUrl: '/hero/wiphala.avif',
    repos: {
      infra: 'https://github.com/gaulatti/wiphala',
      service: 'https://github.com/gaulatti/wiphala-service',
      frontend: 'https://github.com/gaulatti/wiphala-frontend',
    },
  },
  {
    title: 'Pompeii',
    description:
      'A centralized user-management service providing single sign-on across applications. It offers a unified user database with support for OAuth2 providers (e.g., Google) to eliminate duplicate authentication code in every service.',
    type: 'pompeii',
    tags: ['TypeScript', 'NestJS', 'OAuth2', 'MySQL', 'AWS'],
    link: 'https://pompeii.gaulatti.com',
    imageUrl: '/hero/pompeii.avif',
    repos: {
      infra: 'https://github.com/gaulatti/pompeii',
      service: 'https://github.com/gaulatti/pompeii-service',
      frontend: 'https://github.com/gaulatti/pompeii-frontend',
    },
  },
  {
    title: 'Monitor',
    description:
      "An AI-powered monitoring platform that tracks websites and online sources, sending real-time alerts when something important happens. It combines custom web scraping with natural language processing to ensure you're notified only about events that truly matter.",
    type: 'monitor',
    tags: ['TypeScript', 'NestJS', 'Web Scraping', 'AI', 'AWS'],
    link: 'https://monitor.gaulatti.com',
    imageUrl: '/hero/monitor.avif',
    repos: {
      infra: 'https://github.com/gaulatti/monitor',
      service: 'https://github.com/gaulatti/monitor-service',
      frontend: 'https://github.com/gaulatti/monitor-frontend',
    },
  },
];

const professionalWork = [
  {
    title: 'Financial Analytics Dashboard',
    description: 'Real-time data visualization platform for financial market analysis.',
    company: 'Leading FinTech Firm',
    tags: ['React', 'D3.js', 'WebSocket'],
    year: '2024',
  },
  {
    title: 'Broadcast System Integration',
    description: 'Digital audio workflow system for live radio broadcasting.',
    company: 'Major Media Network',
    tags: ['Audio Engineering', 'System Design'],
    year: '2023',
  },
];
---

<Layout title={title} description={description}>
  <main class='pt-32 pb-24'>
    <div class='container'>
      <div class='max-w-4xl mx-auto'>
        <h1 class='text-5xl md:text-6xl font-bold mb-8 tracking-tight text-fade-in'>Portfolio</h1>
        <p class='text-xl text-gray-600 mb-16 max-w-2xl text-fade-in' style='animation-delay: 100ms'>
          Selected works showcasing the intersection of technology, sound, and storytelling. Each project represents a unique exploration of digital creativity.
        </p>

        <!-- Personal Projects -->
        <section class='mb-24'>
          <h2 class='text-3xl font-bold mb-12'>Featured Personal Projects</h2>
          <div class='grid gap-12'>
            {
              personalProjects.map((project, index) => (
                <article class='group text-fade-in' style={`animation-delay: ${(index + 2) * 100}ms`}>
                  <div class='grid md:grid-cols-2 gap-8 items-center'>
                    <div class='order-2 md:order-1'>
                      <a href={project.link} class='block group/title' target='_blank' rel='noopener noreferrer'>
                        <h3 class='text-2xl font-bold mb-4 group-hover/title:text-accent-blue transition-colors'>{project.title}</h3>
                      </a>
                      <p class='text-gray-600 mb-4'>{project.description}</p>
                      <div class='space-y-4'>
                        <div class='flex gap-2 flex-wrap'>
                          {project.tags.map((tag) => (
                            <span class='text-sm px-2 py-1 bg-gray-100 rounded-sm'>{tag}</span>
                          ))}
                        </div>
                        <div class='flex flex-wrap gap-4'>
                          <a
                            href={project.repos.infra}
                            class='inline-flex items-center gap-2 text-sm text-gray-600 hover:text-accent-blue transition-colors'
                            target='_blank'
                            rel='noopener noreferrer'
                          >
                            <Github class='w-4 h-4' />
                            <span>Infrastructure</span>
                          </a>
                          <a
                            href={project.repos.service}
                            class='inline-flex items-center gap-2 text-sm text-gray-600 hover:text-accent-blue transition-colors'
                            target='_blank'
                            rel='noopener noreferrer'
                          >
                            <Github class='w-4 h-4' />
                            <span>Service</span>
                          </a>
                          <a
                            href={project.repos.frontend}
                            class='inline-flex items-center gap-2 text-sm text-gray-600 hover:text-accent-blue transition-colors'
                            target='_blank'
                            rel='noopener noreferrer'
                          >
                            <Github class='w-4 h-4' />
                            <span>Frontend</span>
                          </a>
                        </div>
                      </div>
                    </div>
                    <div class='order-1 md:order-2'>
                      <a href={project.link} class='block' target='_blank' rel='noopener noreferrer'>
                        <div class='aspect-video bg-gray-100 rounded-sm overflow-hidden hover-lift'>
                          <BauhausBackground type={project.type} imageUrl={project.imageUrl} />
                        </div>
                      </a>
                    </div>
                  </div>
                </article>
              ))
            }
          </div>
        </section>

        <!-- TBD: Professional Work -->
        <!-- <section>
          <h2 class='text-3xl font-bold mb-12'>Selected Professional Work</h2>
          <div class='grid gap-8'>
            {
              professionalWork.map((work, index) => (
                <article class='bg-gray-50 p-8 rounded-sm hover-lift text-fade-in' style={`animation-delay: ${(index + 5) * 100}ms`}>
                  <div class='flex justify-between items-start mb-4'>
                    <h3 class='text-2xl font-bold'>{work.title}</h3>
                    <span class='text-gray-500'>{work.year}</span>
                  </div>
                  <p class='text-gray-600 mb-4'>{work.description}</p>
                  <div class='flex justify-between items-center'>
                    <div class='flex gap-2 flex-wrap'>
                      {work.tags.map((tag) => (
                        <span class='text-sm px-2 py-1 bg-white rounded-sm'>{tag}</span>
                      ))}
                    </div>
                    <span class='text-sm text-gray-500'>{work.company}</span>
                  </div>
                </article>
              ))
            }
          </div>
        </section> -->

        <!-- Call to Action -->
        <div class='mt-24 text-center text-fade-in' style='animation-delay: 800ms'>
          <p class='text-xl mb-8'>Interested in collaborating on a project?</p>
          <a href='/contact' class='inline-block px-8 py-3 bg-black text-white hover-lift font-medium focus-accent'> Get in Touch </a>
        </div>
      </div>
    </div>
  </main>
</Layout>
